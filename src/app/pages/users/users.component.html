<app-header [showBack]="true" [showMenu]="true" [actions]="menuActions">
  <div class="header-content">
    <h1>
      {{'Tireurs'}}
    </h1>
  </div>
</app-header>
<div class="content">
  <app-search [(value)]="searchValue" placeholder="Rechercher un tireur"></app-search>
  <app-add-button (click)="createUserButton()" *ngIf="!searchValue"
                  label="Ajouter un tireur"></app-add-button>

  <div class="users">
    @if (users.length) {
      <app-user-item [selected]="isUserSelected(user)" long-press
                     (onLongPressing)="onLongPress($event,user)"
                     (click)="userClick(user)" [user]="user"
                     *ngFor="let user of users">
      </app-user-item>
    } @else {
      <app-empty-text *ngIf="users.length === 0" [icon]="searchValue?'jamSearch':'jamGhost'"
                      [text]="searchValue?'Pas de résultat':'Aucun tireur enregistré'"></app-empty-text>
    }



  </div>
</div>

<!--<app-message-box [message]="'Entrer le nom du dossier'" [title]="'Créer un nouveau dossier'"-->
<!--                 [(open)]="openCreateFolderPrompt" (callback)="messageBoxCallback($event)"-->
<!--                 type="prompt"></app-message-box>-->
<app-message-box [title]="'Ajouter un tireur'"
                 [(open)]="openCreateUser"
                 (callback)="createUserCallback($event)"
                 type="okcancel">
  <app-input [(value)]="newUser.firstname" label="Prénom"></app-input>
  <div class="error" *ngIf="!isRequired(newUser.firstname)">
    Ne doit pas être vide
  </div>
  <app-input [(value)]="newUser.lastname" label="Nom"></app-input>
  <div class="error" *ngIf="!isRequired(newUser.lastname)">
    Ne doit pas être vide
  </div>
  <app-input type="number" [(value)]="newUser.id" label="Numéro" [disabled]="!create"></app-input>
  <div class="error" *ngIf="create && !isRequired(newUser.id)">
    Ne doit pas être vide
  </div>
  <div class="error" *ngIf="create && alreadyExist()">
    Existe déjà
  </div>
  <app-select label="Catégorie" [compact]="true" [store]="storeCategories" [(value)]="newUser.category"></app-select>
</app-message-box>

